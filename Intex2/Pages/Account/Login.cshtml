@page
@model LoginModel
<div class="bg-secondary text-center text-white p-2"><h4>Log In</h4></div>
<div class="m-1 text-danger" asp-validation-summary="All"></div>

<form method="post">

    <input type="hidden" name="returnUrl" value="@Model.ReturnUrl" />

    <div class="form-group">
        <label>UserName</label>
        <input class="form-control" asp-for="UserName" />
    </div>

    <div class="form-group">
        <label>Password</label>
        <input asp-for="Password" type="password" class="form-control" />
    </div>

    <button class="btn btn-primary" type="submit">Log In</button>

</form>




            <form action="#">

                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user ti-user"></i></span>
                        <input type="text" class="form-control" placeholder="Your name">
                    </div>
                </div>

                <hr class="hr-xs">

                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-envelope ti-email"></i></span>
                        <input type="text" class="form-control" placeholder="Your email address">
                    </div>
                </div>

                <hr class="hr-xs">

                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-lock ti-unlock"></i></span>
                        <input type="password" class="form-control" placeholder="Choose a password">
                    </div>
                </div>

                <button class="btn btn-primary btn-block" type="submit">Sign up</button>

                <div class="login-footer">
                    <h6>Or register with</h6>
                    <ul class="social-icons">
                        <li><a class="facebook" href="#"><i class="fa fa-facebook"></i></a></li>
                        <li><a class="twitter" href="#"><i class="fa fa-twitter"></i></a></li>
                        <li><a class="linkedin" href="#"><i class="fa fa-linkedin"></i></a></li>
                    </ul>
                </div>

            </form>
      


    @functions {
        public class LoginModel : PageModel
        {
            private SignInManager<IdentityUser> signInManager;

            public LoginModel(SignInManager<IdentityUser> signinMgr)
            {
                signInManager = signinMgr;
            }

            [BindProperty]
            [Required]
            public string UserName { get; set; }

            [BindProperty]
            [Required]
            public string Password { get; set; }

            [BindProperty(SupportsGet = true)]

            public string ReturnUrl { get; set; }

            public async Task<IActionResult> OnPostAsync()
            {

                if (ModelState.IsValid)
                {
                    Microsoft.AspNetCore.Identity.SignInResult result =
                        await signInManager.PasswordSignInAsync(UserName, Password,
                            false, false);
                    if (result.Succeeded)
                    {
                        return Redirect(ReturnUrl ?? "/");
                    }
                    ModelState.AddModelError("", "Invalid username or password");
                }

                return Page();
            }
        }
    }
